<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>e:\users\funfine\source\quiz\quiz\infrastructure\result\resultcommonlogic.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Diagnostics;
using System.Runtime.Serialization;

namespace Infrastructure.Result
{
    internal class ResultCommonLogic&lt;TError&gt;
    {
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        private readonly TError error;

        [DebuggerStepThrough]
        internal ResultCommonLogic(bool isFailure, TError error)
        {
            if (isFailure)
            {
                if (error == null)
                    throw new ArgumentNullException(nameof(error), ResultMessages.ErrorObjectIsNotProvidedForFailure);
            }
            else
            {
                if (error != null)
                    throw new ArgumentException(ResultMessages.ErrorObjectIsProvidedForSuccess, nameof(error));
            }

            IsFailure = isFailure;
            this.error = error;
        }

        public bool IsFailure { get; }
        public bool IsSuccess =&gt; !IsFailure;

        public TError Error
        {
            [DebuggerStepThrough]
            get
            {
                if (IsSuccess)
                    throw new ResultSuccessException();

                return error;
            }
        }

        public void GetObjectData(SerializationInfo info, StreamingContext context)
        {
            info.AddValue(&quot;IsFailure&quot;, IsFailure);
            info.AddValue(&quot;IsSuccess&quot;, IsSuccess);
            if (IsFailure) info.AddValue(&quot;Error&quot;, Error);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[13,9,13,65,1],[14,9,14,10,1],[15,13,15,27,1],[16,13,16,14,1],[17,17,17,35,1],[18,21,18,119,0],[19,13,19,14,1],[21,13,21,14,1],[22,17,22,35,1],[23,21,23,112,0],[24,13,24,14,1],[26,13,26,35,1],[27,13,27,32,1],[28,9,28,10,1],[30,33,30,37,1],[31,34,31,44,1],[37,13,37,14,0],[38,17,38,31,0],[39,21,39,56,0],[41,17,41,30,0],[42,13,42,14,0],[46,9,46,10,0],[47,13,47,51,0],[48,13,48,51,0],[49,13,49,27,0],[49,28,49,58,0],[50,9,50,10,0]]);
    </script>
  </body>
</html>