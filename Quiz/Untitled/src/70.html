<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>e:\users\funfine\source\quiz\quiz\infrastructure\ddd\entity.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;

namespace Infrastructure.DDD
{
    public abstract class Entity : Entity&lt;Guid&gt;
    {
        /// &lt;inheritdoc /&gt;
        protected Entity(Guid id) : base(id)
        {
        }
    }

    /// &lt;summary&gt;
    ///     Базовый класс всех DDD сущностей.
    /// &lt;/summary&gt;
    /// &lt;typeparam name=&quot;TId&quot;&gt;Тип идентификатора&lt;/typeparam&gt;
    public abstract class Entity&lt;TId&gt;
    {
        protected Entity(TId id)
        {
            Id = id;
        }

        [MustBeSaved]
        public TId Id
        {
            get; // ReSharper disable once AutoPropertyCanBeMadeGetOnly.Local For MongoDB
            private set;
        }

        protected bool Equals(Entity&lt;TId&gt; other) =&gt; EqualityComparer&lt;TId&gt;.Default.Equals(Id, other.Id);

        public override bool Equals(object obj)
        {
            if (ReferenceEquals(null, obj)) return false;
            if (ReferenceEquals(this, obj)) return true;
            if (obj.GetType() != GetType()) return false;
            return Equals((Entity&lt;TId&gt;) obj);
        }

        public override int GetHashCode() =&gt; EqualityComparer&lt;TId&gt;.Default.GetHashCode(Id);

        public override string ToString() =&gt; $&quot;{GetType().Name}({nameof(Id)}: {Id})&quot;;
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[9,37,9,45,1],[10,9,10,10,1],[11,9,11,10,1],[20,9,20,33,1],[21,9,21,10,1],[22,13,22,21,1],[23,9,23,10,1],[28,13,28,17,1],[29,13,29,25,1],[32,53,32,103,0],[35,9,35,10,0],[36,13,36,44,0],[36,45,36,58,0],[37,13,37,44,0],[37,45,37,57,0],[38,13,38,44,0],[38,45,38,58,0],[39,13,39,46,0],[40,9,40,10,0],[42,46,42,91,0],[44,46,44,85,1]]);
    </script>
  </body>
</html>