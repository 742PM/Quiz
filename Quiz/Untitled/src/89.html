<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>e:\users\funfine\source\quiz\quiz\application\extensions\domainextensions.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Linq;
using Application.Info;
using Application.Repositories.Entities;
using Domain.Entities;
using Domain.Values;
using Infrastructure.Extensions;

namespace Application.Extensions
{
    public static class DomainExtensions
    {
        public static TopicInfo ToInfo(this Topic topic)
        {
            return new TopicInfo(topic.Name, topic.Id);
        }


        public static LevelInfo ToInfo(this Level level)
        {
            return new LevelInfo(level.Id, level.Description);
        }

        public static TaskInfo ToInfo(this Task task)
        {
            return new TaskInfo(task.Question, task.PossibleAnswers, task.Hints.Length &gt; 0, task.Text);
        }

        public static TaskInfoEntity AsInfoEntity(this Task task)
        {
            return new TaskInfoEntity(
                task.Text,
                task.Answer,
                task.Hints,
                0,
                task.ParentGeneratorId,
                false,
                Guid.NewGuid());
        }

        public static LevelProgressEntity ToProgressEntity(this Level level)
        {
            return new LevelProgressEntity(
                level.Id,
                level.Generators
                    .SafeToDictionary(generator =&gt; generator.Id, generator =&gt; 0),
                Guid.NewGuid());
        }

        public static TopicProgressEntity ToProgressEntity(this Topic topic)
        {
            return new TopicProgressEntity(
                topic.Levels
                    .Take(1)
                    .SafeToDictionary(level =&gt; level.Id, level =&gt; level.ToProgressEntity()),
                topic.Id,
                Guid.NewGuid());
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,9,14,10,1],[15,13,15,56,1],[16,9,16,10,1],[20,9,20,10,1],[21,13,21,63,1],[22,9,22,10,1],[25,9,25,10,1],[26,13,26,104,1],[27,9,27,10,1],[30,9,30,10,1],[31,13,38,33,1],[39,9,39,10,1],[42,9,42,10,1],[43,13,46,52,1],[46,52,46,64,1],[46,64,46,79,1],[46,79,46,80,1],[46,80,47,33,1],[43,13,47,33,1],[48,9,48,10,1],[51,9,51,10,1],[52,13,55,48,1],[55,48,55,56,1],[55,56,55,67,1],[55,67,55,91,1],[55,91,57,33,1],[52,13,57,33,1],[58,9,58,10,1]]);
    </script>
  </body>
</html>